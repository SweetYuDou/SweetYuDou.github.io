<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>RE-NET</title>
    <url>/2024/11/01/RE-Net/</url>
    <content><![CDATA[<h3 id="ã€ŠRecurrent-Event-Network-Autoregressive-Structure-Inference-over-Temporal-Knowledge-Graphsã€‹è®ºæ–‡è§£è¯»"><a href="#ã€ŠRecurrent-Event-Network-Autoregressive-Structure-Inference-over-Temporal-Knowledge-Graphsã€‹è®ºæ–‡è§£è¯»" class="headerlink" title="ã€ŠRecurrent Event Network: Autoregressive Structure Inference over Temporal Knowledge Graphsã€‹è®ºæ–‡è§£è¯»"></a>ã€ŠRecurrent Event Network: Autoregressive Structure Inference over Temporal Knowledge Graphsã€‹è®ºæ–‡è§£è¯»</h3><h4 id="RGCN"><a href="#RGCN" class="headerlink" title="RGCN"></a>RGCN</h4><p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/15/67376238bf47b.png" alt="RGCN_formula"></p>
<p>W<sub>r</sub><sup>(l)</sup>æ˜¯æŸä¸€ä¸ªç‰¹å®šçš„å…³ç³»rï¼ˆå¦‚å¼¹åŠ¾ï¼Œä¸»åŠ¨å»ºäº¤ç­‰ï¼‰åœ¨ç¬¬lå±‚GCNä¸­çš„æƒé‡çŸ©é˜µï¼Œæ¯ä¸€ä¸ªä¸åŒçš„å…³ç³»rå¯¹åº”å…¶å¯¹åº”çš„æƒé‡çŸ©é˜µï¼Œæ¯”å¦‚r<sub>1</sub>å¯¹åº”W<sub>1</sub>è¿™æ ·</p>
<p>h<sub>o</sub><sup>(l)</sup>æ˜¯æŸä¸€ä¸ªç‰¹å®šçš„å®¢ä½“ï¼ˆobjectï¼‰åœ¨ç¬¬lå±‚GCNä¸­çš„éšè—è¡¨ç¤º&#x2F;ç‰¹å¾å‘é‡ï¼ˆhidden state&#x2F;embeddingï¼‰ï¼Œä¹Ÿå°±æ˜¯å½“å‰så®ä½“æ‰€æŒ‡å‘çš„é‚£ä¸ªoå®¢ä½“ï¼Œ<em><strong>h<sub>s</sub><sup>(l)</sup>åŒç†</strong></em></p>
<p>W<sub>o</sub><sup>(l)</sup>æ˜¯è‡ªç¯æƒé‡çŸ©é˜µï¼Œæ„æ€å°±æ˜¯å®ƒä¼šä¸èŠ‚ç‚¹sè‡ªèº«çš„ç‰¹å¾ä¸€ç›´ç›¸ä¹˜ç„¶åæ›´æ–°åˆ°ä¸‹ä¸€å±‚å†ç»§ç»­ç›¸ä¹˜</p>
<p>N<sub>t</sub><sup>(s,r)</sup>è¡¨ç¤ºåœ¨æ—¶é—´æˆ³tï¼ˆtimestampï¼‰è¿™ä¸ªæ—¶é—´ä¸‹çš„èŠ‚ç‚¹sé€šè¿‡å…³ç³»rçš„é‚»å±…èŠ‚ç‚¹é›†åˆï¼ˆNeighborhoodï¼‰ï¼Œ<em><strong>N<sub>t</sub><sup>(s)</sup>åŒç†</strong></em></p>
<p>c<sub>s</sub>æ˜¯å½’ä¸€åŒ–å¸¸æ•°ï¼Œä½“ç°åœ¨å…¬å¼é‡Œå°±æ˜¯ï¼šnum(o) * num(r)ï¼Œå°±æ˜¯å½“å‰tçš„å®ä½“så¯¹åº”çš„å®¢ä½“oçš„ä¸ªæ•°ä¹˜ä¸Šå½“å‰tè¿™ä¸ªså¯¹åº”çš„å…³ç³»rçš„ä¸ªæ•°ï¼ŒåŒ…å«äº†å¤šå°‘ä¸ªé‚»å±…çš„ä¿¡æ¯å°±å¹³å‡æ‰ã€‚<strong>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“å‰tçš„å®ä½“sçš„æ‰€æœ‰é‚»å±…ä¸ªæ•°</strong></p>
<p>RGCNèšåˆå™¨çš„ä½œç”¨åœ¨äºï¼šèšåˆèŠ‚ç‚¹sçš„é‚»å±…èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚ç»“åˆå…¬å¼è§£è¯»ä¸€ä¸‹å°±æ˜¯ï¼šå¯¹äºèŠ‚ç‚¹sï¼ŒRGCNåœ¨æ›´æ–°èŠ‚ç‚¹ç‰¹å¾åŒæ—¶è€ƒè™‘<strong>èŠ‚ç‚¹è‡ªèº«çš„ç‰¹å¾</strong><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/15/67376238ab7d7.png" alt="self_loop">å’Œ<strong>å…¶é‚»å±…èŠ‚ç‚¹çš„ç‰¹å¾</strong><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/15/67376238b540f.png" alt="self_rel">ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ç±»å‹ï¼ˆæŒ‡ä¸åŒå…³ç³»å¯¹åº”ä¸åŒæƒé‡çŸ©é˜µ)ã€‚</p>
<h4 id="RGCNæ¨¡å—ä»£ç å¦‚ä¸‹ï¼š"><a href="#RGCNæ¨¡å—ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="RGCNæ¨¡å—ä»£ç å¦‚ä¸‹ï¼š"></a>RGCNæ¨¡å—ä»£ç å¦‚ä¸‹ï¼š</h4><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RGCNLayer</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_feat, out_feat, bias=<span class="literal">None</span>, activation=<span class="literal">None</span>, self_loop=<span class="literal">False</span>, dropout=<span class="number">0.0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(RGCNLayer, <span class="variable language_">self</span>).__init__()</span><br><span class="line">        <span class="variable language_">self</span>.bias = bias</span><br><span class="line">        <span class="variable language_">self</span>.activation = activation</span><br><span class="line">        <span class="variable language_">self</span>.self_loop = self_loop</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.bias:</span><br><span class="line">            <span class="variable language_">self</span>.bias = nn.Parameter(torch.Tensor(out_feat))</span><br><span class="line">            nn.init.xavier_uniform_(<span class="variable language_">self</span>.bias,  gain=nn.init.calculate_gain(<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">            <span class="comment"># xavier_uniform_ï¼šåˆå§‹åŒ–ï¼Œç”¨äºä¿è¯è¾“å…¥è¾“å‡ºçš„æ–¹å·®ç›¸åŒã€‚å¯ä»¥é¿å…éšç€å±‚æ•°çš„ä¼ é€’ï¼Œè¾“å…¥è¿‡å¤§è€Œæ¢¯åº¦æ¶ˆå¤±æˆ–è¾“å…¥è¿‡å°è€Œå¤±å»éçº¿æ€§</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æƒé‡çŸ©é˜µ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.self_loop:</span><br><span class="line">            <span class="comment"># å›ç¯æƒé‡çŸ©é˜µ</span></span><br><span class="line">            <span class="comment"># input_feature,output_feature</span></span><br><span class="line">            <span class="variable language_">self</span>.loop_weight = nn.Parameter(torch.Tensor(in_feat, out_feat))</span><br><span class="line">            nn.init.xavier_uniform_(<span class="variable language_">self</span>.loop_weight, gain=nn.init.calculate_gain(<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> dropout:</span><br><span class="line">            <span class="variable language_">self</span>.dropout = nn.Dropout(dropout)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.dropout = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">propagate</span>(<span class="params">self, g, reverse</span>):</span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, g, reverse</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.self_loop:</span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">            gæ˜¯graphï¼Œ.ndata[&#x27;h&#x27;]æ˜¯PyTorch DGLå›¾ï¼ˆGraphï¼‰å¯¹è±¡çš„ä¸€ä¸ªèŠ‚ç‚¹æ•°æ®å±æ€§ï¼Œå®ƒè¡¨ç¤ºå›¾ä¸­çš„èŠ‚ç‚¹ç‰¹å¾å‘é‡ã€‚</span></span><br><span class="line"><span class="string">            åœ¨ GNNs ä¸­ï¼ŒèŠ‚ç‚¹ç‰¹å¾å‘é‡é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€éƒ¨åˆ†æ˜¯é™æ€çš„ç‰¹å¾ï¼Œå¦‚èŠ‚ç‚¹ç±»åˆ«ã€å±æ€§ç­‰ï¼›</span></span><br><span class="line"><span class="string">            å¦ä¸€éƒ¨åˆ†æ˜¯åŠ¨æ€çš„ç‰¹å¾ï¼Œå¦‚ä¸èŠ‚ç‚¹ç›¸é‚»çš„èŠ‚ç‚¹æ•°é‡ã€èŠ‚ç‚¹ä¹‹é—´çš„è¾¹æƒé‡ç­‰ã€‚</span></span><br><span class="line"><span class="string">            &#x27;&#x27;&#x27;</span></span><br><span class="line">            loop_message = torch.mm(g.ndata[<span class="string">&#x27;h&#x27;</span>], <span class="variable language_">self</span>.loop_weight)</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.dropout <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                loop_message = <span class="variable language_">self</span>.dropout(loop_message)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.propagate(g, reverse)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åº”ç”¨biasåç§»å’Œæ¿€æ´»å‡½æ•°</span></span><br><span class="line">        node_repr = g.ndata[<span class="string">&#x27;h&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.bias:</span><br><span class="line">            node_repr = node_repr + <span class="variable language_">self</span>.bias</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.self_loop:</span><br><span class="line">            node_repr = node_repr + loop_message</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.activation:</span><br><span class="line">            node_repr = <span class="variable language_">self</span>.activation(node_repr)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°èŠ‚ç‚¹ç‰¹å¾å‘é‡</span></span><br><span class="line">        g.ndata[<span class="string">&#x27;h&#x27;</span>] = node_repr</span><br><span class="line">        <span class="keyword">return</span> g</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RGCNBlockLayer</span>(<span class="title class_ inherited__">RGCNLayer</span>):  <span class="comment"># RGCNå—å±‚</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_feat, out_feat, num_rels, num_bases, bias=<span class="literal">None</span>, activation=<span class="literal">None</span>, self_loop=<span class="literal">False</span>, dropout=<span class="number">0.0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(RGCNBlockLayer, <span class="variable language_">self</span>).__init__(in_feat, </span><br><span class="line">                                             out_feat, </span><br><span class="line">                                             bias,</span><br><span class="line">                                             activation, </span><br><span class="line">                                             self_loop=self_loop,</span><br><span class="line">                                             dropout=dropout)</span><br><span class="line">        <span class="variable language_">self</span>.num_rels = num_rels</span><br><span class="line">        <span class="variable language_">self</span>.num_bases = num_bases</span><br><span class="line">        <span class="keyword">assert</span> <span class="variable language_">self</span>.num_bases &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.out_feat = out_feat</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.submat_in = in_feat // <span class="variable language_">self</span>.num_bases</span><br><span class="line">        <span class="variable language_">self</span>.submat_out = out_feat // <span class="variable language_">self</span>.num_bases</span><br><span class="line"></span><br><span class="line">        <span class="comment"># assuming in_feat and out_feat are both divisible by num_bases</span></span><br><span class="line">        <span class="comment"># if self.num_rels == 2:</span></span><br><span class="line">        <span class="comment">#     self.in_feat = in_feat</span></span><br><span class="line">        <span class="comment">#     self.weight = nn.Parameter(torch.Tensor(</span></span><br><span class="line">        <span class="comment">#         self.num_rels, in_feat, out_feat))</span></span><br><span class="line">        <span class="comment"># else:</span></span><br><span class="line">        <span class="variable language_">self</span>.weight = nn.Parameter(torch.Tensor(<span class="variable language_">self</span>.num_rels, <span class="variable language_">self</span>.num_bases * <span class="variable language_">self</span>.submat_in * <span class="variable language_">self</span>.submat_out))</span><br><span class="line">        nn.init.xavier_uniform_(<span class="variable language_">self</span>.weight, gain=nn.init.calculate_gain(<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">msg_func</span>(<span class="params">self, edges, reverse</span>):  <span class="comment"># èŠ‚ç‚¹å’Œæƒé‡ç›¸ä¹˜ï¼Œå†è½¬åŒ–ä¸ºè¾“å‡ºæ ¼å¼</span></span><br><span class="line">        <span class="keyword">if</span> reverse:</span><br><span class="line">            <span class="comment"># edges.data[&#x27;type_o&#x27;]ï¼šè¡¨ç¤ºç›®æ ‡èŠ‚ç‚¹æ‰€å±çš„å…³ç³»çš„ç±»å‹ã€‚å…·ä½“å“ªä¸ªå…³ç³»å°±å¯¹åº”å®ƒçš„æƒé‡çŸ©é˜µ</span></span><br><span class="line">            weight = <span class="variable language_">self</span>.weight.index_select(<span class="number">0</span>, edges.data[<span class="string">&#x27;type_o&#x27;</span>]).view(-<span class="number">1</span>, <span class="variable language_">self</span>.submat_in, <span class="variable language_">self</span>.submat_out)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            weight = <span class="variable language_">self</span>.weight.index_select(<span class="number">0</span>, edges.data[<span class="string">&#x27;type_s&#x27;</span>]).view(-<span class="number">1</span>, <span class="variable language_">self</span>.submat_in, <span class="variable language_">self</span>.submat_out)</span><br><span class="line"></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        edges.src[&#x27;h&#x27;]ï¼šè¡¨ç¤ºæºèŠ‚ç‚¹çš„ç‰¹å¾å‘é‡ã€‚</span></span><br><span class="line"><span class="string">        å®ƒæ˜¯ä¸€ä¸ªå¤§å°ä¸º (num_nodes, submat_in) çš„tensorï¼Œå…¶ä¸­ num_nodes è¡¨ç¤ºå›¾ä¸­çš„èŠ‚ç‚¹æ•°ã€‚</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        node = edges.src[<span class="string">&#x27;h&#x27;</span>].view(-<span class="number">1</span>, <span class="number">1</span>, <span class="variable language_">self</span>.submat_in)</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        msgï¼šè¡¨ç¤ºæ¶ˆæ¯ä¼ é€’çš„ç»“æœã€‚</span></span><br><span class="line"><span class="string">        å®ƒæ˜¯ä¸€ä¸ªå¤§å°ä¸º (num_edges, out_feat) çš„tensorï¼Œå…¶ä¸­out_feat è¡¨ç¤ºè¾“å‡ºç‰¹å¾å‘é‡çš„ç»´åº¦ã€‚</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line">        msg = torch.bmm(node, weight).view(-<span class="number">1</span>, <span class="variable language_">self</span>.out_feat)</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;msg&#x27;</span>: msg&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">propagate</span>(<span class="params">self, g, reverse</span>):</span><br><span class="line">        g.update_all(<span class="keyword">lambda</span> x: <span class="variable language_">self</span>.msg_func(x, reverse), fn.<span class="built_in">sum</span>(msg=<span class="string">&#x27;msg&#x27;</span>, out=<span class="string">&#x27;h&#x27;</span>), <span class="variable language_">self</span>.apply_func)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">apply_func</span>(<span class="params">self, nodes</span>):</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;h&#x27;</span>: nodes.data[<span class="string">&#x27;h&#x27;</span>] * nodes.data[<span class="string">&#x27;norm&#x27;</span>]&#125;</span><br></pre></td></tr></table></figure></div>

<p>ç»“åˆä»£ç æ¥çœ‹å…¬å¼ï¼Œæ˜¯<img lazyload src="/images/loading.svg" data-src="/RE-Net/67376238ab7d7.png" alt="self_loop"></p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line">   		<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">         å…ˆè®©èŠ‚ç‚¹ç‰¹å¾å‘é‡ä¸è‡ªç¯æƒé‡çŸ©é˜µç›¸ä¹˜+dropout</span></span><br><span class="line"><span class="string">         &#x27;&#x27;&#x27;</span></span><br><span class="line">loop_message = torch.mm(g.ndata[<span class="string">&#x27;h&#x27;</span>], <span class="variable language_">self</span>.loop_weight)</span><br><span class="line">         <span class="keyword">if</span> <span class="variable language_">self</span>.dropout <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">             loop_message = <span class="variable language_">self</span>.dropout(loop_message)</span><br><span class="line">         <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">         å†æŠŠåç§»ã€ä¹˜ç§¯ã€æ¿€æ´»å‡½æ•°åŠ åœ¨åŸæœ‰çš„èŠ‚ç‚¹ç‰¹å¾å‘é‡ä¸Š</span></span><br><span class="line"><span class="string">         å…è®¸æ¯ä¸€å±‚éƒ½ä¿ç•™å‰ä¸€å±‚çš„ä¿¡æ¯ï¼Œæœ‰ç‚¹åƒResNetçš„æ€æƒ³</span></span><br><span class="line"><span class="string">         &#x27;&#x27;&#x27;</span></span><br><span class="line">	node_repr = g.ndata[<span class="string">&#x27;h&#x27;</span>]</span><br><span class="line">         <span class="keyword">if</span> <span class="variable language_">self</span>.bias:</span><br><span class="line">             node_repr = node_repr + <span class="variable language_">self</span>.bias</span><br><span class="line">         <span class="keyword">if</span> <span class="variable language_">self</span>.self_loop:</span><br><span class="line">             node_repr = node_repr + loop_message</span><br><span class="line">         <span class="keyword">if</span> <span class="variable language_">self</span>.activation:</span><br><span class="line">             node_repr = <span class="variable language_">self</span>.activation(node_repr)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">æŠŠæœ€åçš„èŠ‚ç‚¹è¡¨ç¤ºï¼ˆnode_reprï¼‰ä½œä¸ºè¯¥å±‚èŠ‚ç‚¹ç‰¹å¾å‘é‡çš„è¾“å‡º</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">         g.ndata[<span class="string">&#x27;h&#x27;</span>] = node_repr</span><br><span class="line">         <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></div>

<p><img lazyload src="/images/loading.svg" data-src="/RE-Net/67376238b540f.png" alt="self_rel">æ˜¯</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">def</span> <span class="title function_">msg_func</span>(<span class="params">self, edges, reverse</span>): </span><br><span class="line">      <span class="keyword">if</span> reverse:</span><br><span class="line">          weight = <span class="variable language_">self</span>.weight.index_select(<span class="number">0</span>, edges.data[<span class="string">&#x27;type_o&#x27;</span>]).view(-<span class="number">1</span>, <span class="variable language_">self</span>.submat_in, <span class="variable language_">self</span>.submat_out)</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">          weight = <span class="variable language_">self</span>.weight.index_select(<span class="number">0</span>, edges.data[<span class="string">&#x27;type_s&#x27;</span>]).view(-<span class="number">1</span>, <span class="variable language_">self</span>.submat_in, <span class="variable language_">self</span>.submat_out)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">å…ˆæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹æ‰€å±çš„å…³ç³»çš„ç±»å‹ï¼ˆæ¯”å¦‚ï¼šå¼¹åŠ¾ã€è¢«å¼¹åŠ¾ï¼›é€‰ä¸¾ã€è¢«é€‰ä¸¾ï¼‰</span></span><br><span class="line"><span class="string">æ‹¿åˆ°è¯¥å…³ç³»æ‰€å¯¹åº”çš„æƒé‡çŸ©é˜µ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">      node = edges.src[<span class="string">&#x27;h&#x27;</span>].view(-<span class="number">1</span>, <span class="number">1</span>, <span class="variable language_">self</span>.submat_in)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">å°†æºèŠ‚ç‚¹çš„ç‰¹å¾å‘é‡ä¸æƒé‡ç›¸ä¹˜</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">      msg = torch.bmm(node, weight).view(-<span class="number">1</span>, <span class="variable language_">self</span>.out_feat)</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="string">&#x27;msg&#x27;</span>: msg&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">propagate</span>(<span class="params">self, g, reverse</span>):</span><br><span class="line">      g.update_all(<span class="keyword">lambda</span> x: <span class="variable language_">self</span>.msg_func(x, reverse), fn.<span class="built_in">sum</span>(msg=<span class="string">&#x27;msg&#x27;</span>, out=<span class="string">&#x27;h&#x27;</span>), <span class="variable language_">self</span>.apply_func)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">æŠŠè¯¥æºèŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹çš„msgç»“æœç›¸åŠ èšåˆ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">apply_func</span>(<span class="params">self, nodes</span>):</span><br><span class="line">      <span class="keyword">return</span> &#123;<span class="string">&#x27;h&#x27;</span>: nodes.data[<span class="string">&#x27;h&#x27;</span>] * nodes.data[<span class="string">&#x27;norm&#x27;</span>]&#125;</span><br><span class="line">  	<span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">  	æœ€åä¹˜ä¸Šå½’ä¸€åŒ–å¸¸æ•°nodes.data[&#x27;norm&#x27;]</span></span><br><span class="line"><span class="string">  	&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div>

<p>RGCNæ•æ‰å¤šè·³é‚»å±…çš„ä¿¡æ¯ï¼šé€šè¿‡å¤šæ¬¡åº”ç”¨å›¾å·ç§¯æ“ä½œå®ç°</p>
<ul>
<li>åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹èšåˆæ¥è‡ªå…¶ç›´æ¥é‚»å±…çš„ä¿¡æ¯</li>
<li>åœ¨ç¬¬äºŒæ¬¡è¿­ä»£ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹åˆæ¥è‡ªå…¶é‚»å±…çš„é‚»å±…ï¼ˆå³ç¬¬äºŒè·³é‚»å±…ï¼‰çš„ä¿¡æ¯</li>
</ul>
<h4 id="RE-Netæ¶æ„å›¾è§£è¯»"><a href="#RE-Netæ¶æ„å›¾è§£è¯»" class="headerlink" title="RE-Netæ¶æ„å›¾è§£è¯»"></a>RE-Netæ¶æ„å›¾è§£è¯»</h4><p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/15/67376238ebfd3.png" alt="RE-Net_architecture"></p>
<p>ä»»åŠ¡ï¼šé¢„æµ‹æ—¶é—´æˆ³tä¸­çš„ä¸‰å…ƒç»„</p>
<p>å·²çŸ¥ï¼šè¿‡å»å‡ ä¸ªæ—¶é—´æ­¥çš„å›¾ï¼ˆæ¶æ„å›¾ä¸¾ä¾‹ä¸º3ä¸ªæ—¶é—´æ­¥ï¼‰</p>
<p>RE-Net_globalå¯¹æ•´ä¸ªçŸ¥è¯†å›¾è°±ï¼ˆèƒ½è§‚å¯Ÿåˆ°çš„å›¾ï¼Œæ¶æ„å›¾ä¸­æ•´ä¸ªå›¾è°±ä¸º3ä¸ªæ—¶é—´æ­¥çš„å›¾ï¼‰è¿›è¡Œç¼–ç ï¼Œç»™å‡ºå…¨å±€åµŒå…¥è¡¨ç¤ºï¼ˆglobal_embï¼‰ã€‚åœ¨é¢„æµ‹æ—¶ç»™å‡ºé¢„æµ‹æ—¶é—´æˆ³tçš„ä¸»ä½“ã€å®¢ä½“åˆ†å¸ƒä»¥åŠæ›´æ–°åçš„å…¨å±€åµŒå…¥è¡¨ç¤º</p>
<p>RE-Net(train)ï¼šå°†å¯è§‚å¯Ÿåˆ°çš„å±€éƒ¨å›¾ä¸­çš„s,rå’Œglobal_embç­‰æ”¾å…¥Aggregatorèšåˆå™¨ï¼ˆRGCNï¼‰å½“ä¸­ï¼Œèšåˆå™¨çš„è¾“å‡ºç»“æœä¸ºä¸¤ä¸ªåºåˆ—s_packed_input,s_packed_input_råˆ†åˆ«æ”¾å…¥encoder,encoder_rä¸­ï¼Œç¼–ç å®ä½“è¡¨ç¤ºå’Œå…³ç³»è¡¨ç¤ºï¼ŒRE-Netç±»çš„self.encoderè¢«å®šä¹‰ä¸ºnn.GRUï¼Œæœ€ååˆ†åˆ«é€å…¥çº¿æ€§å±‚self.linear,self.linear_r(nn.linear)å’Œdropoutå±‚é¢„æµ‹å®¢ä½“å’Œå…³ç³»å¹¶åˆ†åˆ«è®¡ç®—æŸå¤±</p>
<p>RE-Net(valid,test)ï¼šRE-Net_globalé¢„æµ‹æ—¶é—´æˆ³tçš„ä¸»ä½“ï¼Œå®¢ä½“åˆ†å¸ƒåé‡‡æ ·å‰self.num_kä¸ªï¼Œæ›´æ–°ï¼ˆä¸»ä½“å’Œå®¢ä½“çš„åˆ—è¡¨ã€ç´¢å¼•ã€å†å²äº¤äº’ç¼“å­˜ï¼‰ï¼Œæ„å»ºæ–°çš„æ—¶é—´ç‚¹çš„å›¾ï¼Œæ›´æ–°å›¾å­—å…¸ï¼ˆgraph_dictï¼‰å’Œå…¨å±€åµŒå…¥è¡¨ç¤ºï¼ˆglobal_embï¼‰ã€‚å†é‡å¤ä»¥ä¸Šæ“ä½œâ†‘</p>
]]></content>
      <categories>
        <category>deep-learning</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†å›¾è°±</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerå­¦ä¹ ç¬”è®°</title>
    <url>/2024/11/14/Docker/</url>
    <content><![CDATA[<ul>
<li>dockeré•œåƒæºï¼ˆåŠ é€Ÿåœ°å€ï¼‰æ˜¯å›½å†…çš„æºæ¥æ‹‰é•œåƒï¼Œå¯èƒ½æœ‰ä¸€äº›é•œåƒæ²¡æœ‰ï¼Œä»£ç†å°±æ˜¯ä»Dockerhubæ‹‰ã€‚<strong>ä½ æ‹‰çš„é•œåƒå¦‚æœæ˜¯<em>Dockerhub</em>çš„ï¼Œå¹¶ä¸”å›½å†…é•œåƒæºæ²¡æœ‰ï¼Œé‚£é•œåƒæºä¹Ÿä¸å¥½ä½¿ï¼Œåªèƒ½è€è€å®å®é…å¥½ä»£ç†</strong>ã€‚é˜¿é‡Œäº‘ECSå¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼Œ<code>/etc/docker/daemon.json</code>å¦‚ä¸‹é…ç½®å³å¯ï¼Œä¸è¦åŠ å…¶ä»–æºï¼š</li>
</ul>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;https://***.mirror.aliyuncs.com&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<ul>
<li>æœ¬åœ°è®¿é—®é˜¿é‡Œäº‘ECSçš„ç½‘é¡µæ—¶ï¼Œè‹¥å‡ºç°æ— æ³•è®¿é—®çš„é—®é¢˜ï¼Œå¯ä»¥æ£€æŸ¥è¯¥ECSé…ç½®çš„å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾HTTPï¼ˆ80ï¼‰ã€HTTPSï¼ˆ443ï¼‰ç«¯å£ã€‚</li>
<li>ç”¨clashæ¥ç»™æœåŠ¡å™¨<strong>é…ç½®ä»£ç†</strong>ï¼Œå¯ä»¥å‚è€ƒ<a class="link" href="https://github.com/nelvko/clash-for-linux-install?tab=readme-ov-file">nelvko&#x2F;clash-for-linux-install: ä¼˜é›…åœ°éƒ¨ç½²åŸºäº Clash çš„ä»£ç†ç¯å¢ƒ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼Œå…¶ä¸­è®¢é˜…å°±æ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œå¯ä»¥ä»æœºåœºç½‘ç«™ä¸Šæ‰¾ï¼Œç±»ä¼¼è¿™æ ·çš„ï¼š</li>
</ul>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/15/673762390d8ea.png" alt="subscription"></p>
<p>æˆ‘è¿™é‡Œç”¨çš„æ˜¯clashï¼Œå°±å¤åˆ¶clashè®¢é˜…é“¾æ¥å°±å¥½äº†ã€‚éƒ¨ç½²å®Œclashåï¼ŒæœåŠ¡å™¨å¼€æ”¾ç«¯å£7890ä½œä¸ºä»£ç†æ¥å£ï¼Œæ¥è®¿é—®ä»£ç†æœåŠ¡å™¨ã€‚åœ¨æœåŠ¡å™¨ç»ˆç«¯è®¾ç½®ç›¸å…³ç¯å¢ƒå˜é‡ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 </span><br></pre></td></tr></table></figure></div>

<p>ç”±äºé…ç½®ä»£ç†æ˜¯ä¸ºäº†dockeræœåŠ¡ï¼Œæ‰€ä»¥è¿˜è¦ç¼–è¾‘Dockerç³»ç»Ÿçš„æœåŠ¡é…ç½®æ–‡ä»¶ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/systemd/system/docker.service.d</span><br><span class="line"><span class="built_in">sudo</span> vim /etc/systemd/system/docker.service.d/proxy.conf</span><br></pre></td></tr></table></figure></div>

<p>åœ¨proxy.confä¸­é…ç½®ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">[Service]</span><br><span class="line">Environment=<span class="string">&quot;HTTP_PROXY=http://127.0.0.1:7890&quot;</span></span><br><span class="line">Environment=<span class="string">&quot;HTTPS_PROXY=http://127.0.0.1:7890&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>æœ€åé‡å¯dockerï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure></div>

<p>ä¸å‡ºæ„å¤–åº”è¯¥æˆåŠŸäº†ï¼Œå¯ä»¥å°è¯•æ‹‰å–ä¸€äº›ä¹‹å‰æ‹‰å–å¤±è´¥çš„é•œåƒæ¥éªŒè¯ä¸€ä¸‹</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/20/673d70d56e2f1.png" alt="traffic"></p>
<ul>
<li>é˜¿é‡Œäº‘äº‘æ•°æ®ä¼ è¾“çš„æµé‡<strong>æŒ‰é‡è®¡ç®—ï¼Œä¸¤å¤©å°±èŠ±äº†151.05CNYâ€¦TuT</strong>ï¼Œç›®å½•ä»·å› å­éƒ½æ˜¯æµå‡ºåœ°åŸŸï¼Œæˆ‘ç”¨Xftp7æŠŠECSä¸Šçš„æ–‡ä»¶ä¼ åˆ°æœ¬åœ°ä¹Ÿç”¨ä¸åˆ°100å¤šä¸ªGå§ï¼Ÿæš‚æ—¶è¿˜æ²¡æƒ³åˆ°æ˜¯ä¸ºä»€ä¹ˆï¼Œåªå¥½å…ˆæš‚åœæœåŠ¡äº†</li>
</ul>
]]></content>
      <categories>
        <category>chit-chat</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>é˜¿é‡Œäº‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Bootå­¦ä¹ ç¬”è®°</title>
    <url>/2024/11/16/Maven/</url>
    <content><![CDATA[<ul>
<li>Mavenè¿œç¨‹ä»“åº“é»˜è®¤ä¸ºMaven Central Repositoryï¼Œå¯ä»¥åœ¨<code>/conf/settings.xml</code>ä¸­é…ç½®è¿œç¨‹é•œåƒä»“åº“ä¸ºå›½å†…é˜¿é‡Œäº‘é•œåƒä»“åº“ï¼Œæé«˜JaråŒ…ä¸‹è½½çš„é€Ÿåº¦å’Œç¨³å®šæ€§ã€‚é…ç½®settings.xmlå®Œæˆåä¿å­˜é€€å‡ºã€‚</li>
</ul>
<div class="highlight-container" data-rel="Xml"><figure class="iseeu highlight xml"><table><tr><td class="code"><pre><span class="line"># åœ¨settings.xml 160è¡Œå¤„æ·»åŠ é•œåƒæºï¼Œéœ€è¦ä¿è¯é•œåƒæºæ ‡ç­¾åœ¨mirrorçš„ç¬¬ä¸€ä¸ª</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/16/67377c04abc81.png" alt="image-20241116005159364">åƒè¿™æ ·ï¼Œé•œåƒæºå¾—åœ¨å‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<ul>
<li>IntelliJ IDEAä¸­é¡¹ç›®ä»£ç è‹¥å‡ºç°æ— æ³•è§£æç¬¦å·â€œxxxâ€æŠ¥é”™ä¸”é¼ æ ‡æŒ‡é’ˆç§»åˆ°æŠ¥é”™çš„ç¬¦å·ï¼ˆè¢«é«˜äº®ä¸ºçº¢è‰²ï¼‰ä¸Šæ²¡æœ‰æç¤ºâ€å¯¼å…¥ç±»â€™xxxâ€˜æ—¶â€œï¼Œå¯ä»¥å°è¯•ç‚¹å‡»å³ä¾§â€æ›´å¤šæ“ä½œâ€œ</li>
</ul>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/25/6743503f889cd.png" alt="æ›´å¤šæ“ä½œ"></p>
<p>ç‚¹å‡»â€œæ·»åŠ Mavenä¾èµ–é¡¹â€</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/25/6743503f852b2.png" alt="æ·»åŠ Mavenä¾èµ–é¡¹"></p>
<p>å†é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/25/6743503f5ecf4.png" alt="é€‰æ‹©åˆé€‚ç‰ˆæœ¬"></p>
<p>æœ€åå†å¯¼å…¥ç±»ï¼Œå³å¯è§£å†³æŠ¥é”™</p>
]]></content>
      <categories>
        <category>chit-chat</category>
      </categories>
      <tags>
        <tag>Maven</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>Spring Boot</tag>
        <tag>é˜¿é‡Œäº‘</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹FPSæ¸¸æˆä½œå¼Šå·¥å…·çš„ä¸€äº›ç†è§£</title>
    <url>/2024/11/25/DMA/</url>
    <content><![CDATA[<p>â€‹	è¿™ä¸¤å¤©çœ‹åˆ°äº†ä¸ªå‡ å¼ å›¾ç‰‡ï¼Œæ®è¯´æ˜¯è¶…è¶Šäº†DMAçš„ä½œå¼Šå·¥å…·ï¼Œçœ‹å®Œåå¿ƒè¡€æ¥æ½®æƒ³ç ”ç©¶ä¸€ä¸‹ç°åœ¨çš„ä¸€äº›æ¸¸æˆå¤–æŒ‚çš„åŸç†ã€‚</p>
<ul>
<li>é¦–å…ˆæ˜¯æ™®é€šå¤–æŒ‚è½¯ä»¶ã€‚æ¸¸æˆæ•°æ®å¤§éƒ¨åˆ†éƒ½å­˜åœ¨æœ¬åœ°å†…å­˜ä¸­ï¼Œæ¯”å¦‚æ•Œäººä½ç½®ã€è¡€é‡ã€æŠ€èƒ½ç­‰ã€‚æ­£å¸¸æƒ…å†µä¸‹ä½ è‚¯å®šçœ‹ä¸åˆ°ï¼Œä½†å¤–æŒ‚è½¯ä»¶ç›´æ¥è®¿é—®æœ¬åœ°å†…å­˜ï¼Œå¹¶å°†è¿™äº›æ•°æ®å¯è§†åŒ–ã€‚æ¯”å¦‚ä¸€äº›é€è§†æŒ‚ï¼Œå°±å¯ä»¥é€šè¿‡ä»æœ¬åœ°å†…å­˜ä¸­è¯»å–çš„æ•°æ®æ¥æ˜¾ç¤ºæ•Œäººæ‰€åœ¨ä½ç½®ç­‰ä¿¡æ¯ã€‚æ¸¸æˆé€šå¸¸ä¼šæ‹’ç»è¿™äº›å¤–æŒ‚è½¯ä»¶è®¿é—®æ¸¸æˆæ•°æ®ï¼Œç¨å¾®å¥½ä¸€ç‚¹çš„å¤–æŒ‚è½¯ä»¶å°±ä¼šä¼ªè£…æˆå„ç§æ­£è§„çš„è½¯ä»¶æ¥è®¿é—®ï¼Œä½†è¿™ç§æ™®é€šçš„å†…å­˜æŒ‚åŸºæœ¬éƒ½ä¼šå°ï¼Œåªæ˜¯æ—¶é—´é—®é¢˜è€Œå·²</li>
<li>è€ŒDMAå¯ä»¥ä¼˜åŒ–è¿™ä¸€ç‚¹ã€‚DMAå…¨ç§°ä¸ºDirect Memory Accessï¼Œå³ç›´æ¥å­˜å‚¨å™¨è®¿é—®ã€‚DMAèƒ½å¤Ÿåšåˆ°<strong>åœ¨æ•°æ®ä¼ è¾“æœŸé—´</strong>è¶Šè¿‡CPUæ¥è®¿é—®å†…å­˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡DMAæŠŠæœ¬åœ°ç”µè„‘çš„å†…å­˜å¤åˆ¶ä¸€ä»½åˆ°å¦ä¸€å°ç”µè„‘ä¸Šï¼Œç„¶ååœ¨å¦ä¸€å°ç”µè„‘ä¸Šè¿è¡Œå¤–æŒ‚è½¯ä»¶æ¥å®ç°å¤–æŒ‚åŠŸèƒ½ï¼ˆå¦‚é€è§†ï¼‰ï¼Œè€Œå¤–æŒ‚è½¯ä»¶å®Œå…¨ä¸è®¿é—®è¿è¡Œåœ¨æœ¬åœ°çš„æ¸¸æˆæ•°æ®ï¼Œæ‰€ä»¥å¾ˆéš¾å°ç¦ã€‚ä½†æ˜¯ç”±äºç°ä»£æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windowsã€Linux ç­‰ï¼‰éƒ½æœ‰å¤æ‚çš„å†…å­˜ç®¡ç†æœºåˆ¶ã€‚æ“ä½œç³»ç»Ÿä¼šå¯¹å†…å­˜è¿›è¡Œè™šæ‹ŸåŒ–ï¼Œå°†ç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸åŒçš„è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚å¯¹äº DMA è®¿é—®å†…å­˜ï¼Œ<strong>DMAéœ€è¦CPUå»è§£æå†…å­˜å†ä¼ è¾“ç»™DMA</strong>ï¼Œå®ƒä¸èƒ½ç›´æ¥ä½¿ç”¨ç‰©ç†å†…å­˜åœ°å€ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿå¯èƒ½å·²ç»å¯¹è¿™äº›ç‰©ç†åœ°å€è¿›è¡Œäº†é‡æ–°æ˜ å°„ã€‚å¦‚æœç›´æ¥ä½¿ç”¨ç‰©ç†åœ°å€è®¿é—®å†…å­˜ï¼Œå¯èƒ½ä¼šè®¿é—®åˆ°é”™è¯¯çš„åŒºåŸŸï¼Œå› ä¸ºå®ƒä¸çŸ¥é“æ“ä½œç³»ç»Ÿçš„å†…å­˜æ˜ å°„è§„åˆ™ã€‚å› æ­¤DMAè™½ç„¶å¯ä»¥é¿å¼€CPUï¼Œä½†ç»•ä¸è¿‡æ“ä½œç³»ç»Ÿï¼Œå­˜åœ¨è¢«æ“ä½œç³»ç»Ÿæ£€æµ‹åˆ°çš„å¯èƒ½</li>
<li>äºæ˜¯ç°åœ¨åˆæœ‰äº†HMTTæ¥è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚HMTTå…¨ç§°ä¸ºHybrid Memory Trace Toolï¼Œå³æ··åˆå†…å­˜è·Ÿè¸ªå·¥å…·ã€‚HMTTé€šè¿‡æ’åœ¨DDR4æ¥å£çš„å†…å­˜ä¸Šï¼Œä½¿ç”¨DIMM-snoopingæœºåˆ¶ç›‘å¬å†…å­˜æ€»çº¿ï¼Œç»•å¼€äº†CPUã€‚HMTTåœ¨è¯»å–å†…å­˜æ—¶<strong>ç³»ç»Ÿå†…éƒ¨æ²¡æœ‰ä»»ä½•ç—•è¿¹</strong>ï¼Œå¯ä»¥ç†è§£ä¸ºå†…å­˜ä¸­é—´äººï¼Œå¯ä»¥åœ¨æ•°æ®ä»ä¸€ä¸ªåœ°æ–¹ä¼ è¾“åˆ°å¦ä¸€ä¸ªåœ°æ–¹çš„è¿‡ç¨‹ä¸­ä»‹å…¥å¹¶è·å–æ•°æ®ã€‚å› æ­¤HMTTä¹Ÿå¯ä»¥åœ¨å°†å†…å­˜æ•°æ®å‘é€ç»™ä¸»æ¿å‰å¤åˆ¶ä¸€ä»½ç»™å¦ä¸€å°ç”µè„‘ï¼Œä¸”æ— æ³•è¢«æ“ä½œç³»ç»Ÿæ£€æµ‹åˆ°ã€‚HMTTæ˜¯çº¯ç‰©ç†å±‚é¢çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ç»è¿‡æ“ä½œç³»ç»Ÿï¼Œå› æ­¤ä¸å­˜åœ¨æ“ä½œç³»ç»Ÿå±‚é¢çš„æ£€æµ‹å¯èƒ½â•®(â•¯â–½â•°)â•­</li>
</ul>
<p>å°†æ¥é—®ä¸–çš„å„ç§ç¡¬ä»¶å„ç§æŠ€æœ¯éš¾å…ä¼šè¢«ç”¨åœ¨ç ”å‘å¤–æŒ‚ä¸Šï¼Œè¿™æ˜¯ä¸å¯é¿å…çš„ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå…¶å®DMAå°±å·²ç»å¾ˆéš¾æŸ¥å°äº†ï¼Œæ²¡å¿…è¦å› ä¸ºæ–°çš„å¤–æŒ‚æŠ€æœ¯è€Œæ²®ä¸§ï¼Œåæ­£åä½œå¼Šéƒ½æŸ¥ä¸å‡ºæ¥ğŸ¤£ğŸ¤£ğŸ¤£</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/26/6744b13a9bc43.jpg"></p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/26/6744b13a9ed3e.jpg"></p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2024/11/26/6744b13aa23bb.jpg"></p>
<p>è¿™ä¸‰å¼ å›¾æ˜¯æˆ‘åœ¨å†²æµªæ—¶çœ‹åˆ°çš„ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼šç¬¬ä¸€å¼ å›¾æåˆ°çš„DMAå’ŒHMTTçš„åŒºåˆ«æ˜¯æœ‰è¯¯çš„ï¼ŒDMAä¸éœ€è¦é€šè¿‡CPUæ¥è®¿é—®å†…å­˜ï¼Œç¬¬äºŒå¼ å›¾â€œDMAè·å–å†…å­˜çš„æ–¹å¼â€ä¹Ÿæ˜¯é”™çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ä¸ºäº†é”€å”®æ•…æ„è¿™æ ·åšçš„ğŸ˜</p>
]]></content>
      <categories>
        <category>chit-chat</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>DMA</tag>
        <tag>HMTT</tag>
      </tags>
  </entry>
  <entry>
    <title>VPNç­‰ç½‘ç»œä¼˜åŒ–å·¥å…·çš„ä¸€äº›ç†è§£</title>
    <url>/2024/11/30/vpn/</url>
    <content><![CDATA[<ul>
<li>VPNå…¨ç§°â€Virtual Private Networkâ€ï¼Œä¹Ÿå°±æ˜¯è™šæ‹Ÿä¸“ç”¨ç½‘ç»œã€‚VPNæä¾›å®‰å…¨çš„è¿œç¨‹è®¿é—®å’Œéšç§ä¿æŠ¤ï¼Œé€šè¿‡å»ºç«‹çš„â€œè™šæ‹Ÿéš§é“â€åœ¨å…¬ç½‘ä¸Šä¼ è¾“ï¼Œå°±åƒæ˜¯æŠŠä½ çš„æ•°æ®åŒ…è£¹åœ¨ä¸€ä¸ªæ–°çš„ â€œä¿¡å°â€ é‡Œï¼Œè¿™ä¸ª â€œä¿¡å°â€ åœ¨å…¬ç½‘ä¸Šä¼ è¾“ï¼Œåˆ°è¾¾ç›®çš„åœ°åå†æŠŠåŸå§‹æ•°æ®è§£å°è£…ã€‚</li>
</ul>
<p>â€‹	ç”¨æˆ·ä½¿ç”¨VPNè®¿é—®çš„æµç¨‹ä¸ºï¼š</p>
<ol>
<li><p>ç”¨æˆ·å…ˆé€šè¿‡VPNå®¢æˆ·ç«¯è½¯ä»¶è¿æ¥åˆ°VPNæœåŠ¡å™¨</p>
</li>
<li><p>ç”¨æˆ·çš„æ‰€æœ‰ç½‘ç»œæµé‡éƒ½ä¼šé€šè¿‡VPNæœåŠ¡å™¨è½¬å‘</p>
</li>
<li><p>VPNæœåŠ¡å™¨ä¼šå¯¹ç”¨æˆ·çš„ç½‘ç»œæ•°æ®è¿›è¡ŒåŠ å¯†,ç¡®ä¿ä¼ è¾“è¿‡ç¨‹çš„å®‰å…¨æ€§</p>
</li>
<li><p>ç”¨æˆ·çš„IPåœ°å€ä¹Ÿä¼šè¢«VPNæœåŠ¡å™¨çš„IPåœ°å€æ‰€æ›¿æ¢,ä»è€Œéšè—äº†ç”¨æˆ·çš„çœŸå®IP</p>
<p>æ‰€ä»¥åœ¨æˆ‘ä»¬ä½¿ç”¨VPNè¿›è¡Œç¿»å¢™çš„æ—¶å€™ï¼Œä¾‹å¦‚ä½¿ç”¨äº†ç¾å›½èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè®¿é—®YouTubeæ—¶å°±æ˜¯ä»¥ç¾å›½èŠ‚ç‚¹çš„IPè¿›è¡Œè®¿é—®ã€‚è€Œæ•´ä¸ªè¿‡ç¨‹ç”±äºVPNçš„åŠ å¯†ï¼Œé˜²ç«å¢™ä¸çŸ¥é“ä½ è®¿é—®äº†ä»€ä¹ˆï¼Œå› æ­¤æ— æ³•è¿›è¡Œå±è”½ï¼Œä¿éšœè®¿é—®è¿‡ç¨‹çš„é¡ºåˆ©è¿›è¡Œã€‚</p>
</li>
</ol>
<ul>
<li>æ¸¸æˆåŠ é€Ÿå™¨çš„åŸç†æ˜¯ï¼šé€šè¿‡ä¼˜åŒ–è·¯ç”±ï¼Œå‡å°‘ç½‘ç»œæ‹¥å µç­‰æ¥ä¼˜åŒ–æœåŠ¡å™¨è¿æ¥ã€‚æ¸¸æˆåŠ é€Ÿå™¨é€šå¸¸ä¼šæœ‰è‡ªå·±çš„ç½‘ç»œèŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹åˆ†å¸ƒåœ¨ä¸åŒåœ°åŒºï¼Œé è¿‘æ¸¸æˆæœåŠ¡å™¨ã€‚å®ƒä¼šæ ¹æ®ä½ çš„ä½ç½®å’Œæ¸¸æˆæœåŠ¡å™¨ä½ç½®ï¼Œé€‰æ‹©æœ€ä¼˜çš„ç½‘ç»œä¼ è¾“è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½ä¼šåˆ©ç”¨ä¸€äº›ä¸“ç”¨çš„ç½‘ç»œçº¿è·¯æˆ–è€…ä¼˜åŒ–ç½‘ç»œåè®®ï¼Œå°†ä½ çš„æ¸¸æˆæ•°æ®é€šè¿‡è¿™äº›ä¼˜åŒ–åçš„è·¯å¾„è¿›è¡Œä¼ è¾“ã€‚åŠ é€Ÿå™¨ä¼šå¯¹æ¸¸æˆæ•°æ®åŒ…è¿›è¡Œè¯†åˆ«å’Œä¼˜å…ˆå¤„ç†ï¼Œæœ‰ç‚¹åƒä¸ºæ¸¸æˆæ•°æ®å¼€è¾Ÿäº†ä¸€æ¡ â€œç»¿è‰²é€šé“â€ï¼Œä½¿æ¸¸æˆæ•°æ®èƒ½å¤Ÿæ›´å¿«åœ°ä¼ è¾“ã€‚</li>
<li>ä¸ªäººç†è§£ï¼šæ¯”å¦‚åœ¨è®¿é—®å¤–ç½‘æ—¶ï¼ŒVPNæœåŠ¡å™¨å¯ä»¥çœ‹æˆä¸€ç§è¿æ¥æ›´åŠ ç¨³å®šä¸”æ›´å®‰å…¨çš„ä»£ç†æœåŠ¡å™¨ã€‚å°±åƒclashä¸­å¯ä»¥è®¾ç½®å…¨å±€ä»£ç†å’Œæ™ºèƒ½ä»£ç†ä¸€æ ·ï¼Œå‰è€…æ˜¯å°†æ‰€æœ‰ç½‘ç»œè¯·æ±‚éƒ½é€šè¿‡ä»£ç†æœåŠ¡å™¨ï¼Œè€Œåè€…ä¼šæ ¹æ®ä½ è®¾ç½®çš„è§„åˆ™ç­‰è¿›è¡Œé€‰æ‹©æ€§åœ°ä»£ç†ã€‚</li>
</ul>
<p><img lazyload src="/images/loading.svg" data-src="/vpn/67691fc6b28bf.png" alt="image-20241223163112150"></p>
]]></content>
      <categories>
        <category>chit-chat</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>vpn</tag>
      </tags>
  </entry>
  <entry>
    <title>ç³»ç»Ÿä¸­é—´ä»¶ä¸äº‘è™šæ‹ŸåŒ–å®è·µ</title>
    <url>/2025/01/13/yjs/</url>
    <content><![CDATA[<h3 id="1-åŸºäºé˜¿é‡Œäº‘äº‘æ•ˆCodeupçš„Gitä»£ç ç®¡ç†"><a href="#1-åŸºäºé˜¿é‡Œäº‘äº‘æ•ˆCodeupçš„Gitä»£ç ç®¡ç†" class="headerlink" title="1. åŸºäºé˜¿é‡Œäº‘äº‘æ•ˆCodeupçš„Gitä»£ç ç®¡ç†"></a>1. åŸºäºé˜¿é‡Œäº‘äº‘æ•ˆCodeupçš„Gitä»£ç ç®¡ç†</h3><h4 id="1-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"><a href="#1-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½" class="headerlink" title="1.1 å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"></a>1.1 <strong>å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½</strong></h4><p>â€¢     äº†è§£Gitå¸¸ç”¨æŒ‡ä»¤åŠå…¶åŸºæœ¬åŸç†ï¼Œå¦‚ï¼šgit push,git pull,git init,git add,git config,git branch,git commitç­‰</p>
<p>â€¢     äº†è§£ä¸€äº›å¸¸è§çš„Linuxç³»ç»Ÿå‘½ä»¤ï¼Œå¦‚ï¼šcd,cat,touchç­‰</p>
<p>â€¢     å­¦ä¼šä½¿ç”¨sshæ–¹å¼è®¿é—®ä»“åº“ï¼Œå‡å°‘ä¸å¿…è¦çš„äº¤äº’ä»¥æé«˜æ•ˆç‡</p>
<h4 id="1-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"><a href="#1-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º" class="headerlink" title="1.2 å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"></a>1.2 <strong>å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º</strong></h4><p>â€‹	åˆ›å»ºtest.pyæ–‡ä»¶ï¼Œæš‚å­˜è‡³æš‚å­˜åŒºåè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“åè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæ¨é€è‡³è¿œç¨‹ä»“åº“å¹¶è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€</p>
<div class="highlight-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> &quot;import json&quot; &gt; test.py  #åˆ›å»ºtest.py</span><br><span class="line">git add test.py  #æš‚å­˜test.py</span><br><span class="line">git status  #è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€</span><br><span class="line">git commit -m &quot;feat(test.py):å¼•å…¥json&quot;  #æäº¤è‡³æœ¬åœ°ä»“åº“</span><br><span class="line">git status  #è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€</span><br><span class="line">git push origin master  #æ¨é€è‡³è¿œç¨‹ä»“åº“</span><br><span class="line">git status  #è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€</span><br></pre></td></tr></table></figure></div>

<p>â€‹	è‡³æ­¤ï¼Œå·²å®Œæˆæš‚å­˜ã€æäº¤ã€æ¨é€ä¸‰ä¸ªåŸºæœ¬æ“ä½œï¼Œæœ¬åœ°ä»£ç å·²åŒæ­¥è‡³äº‘ç«¯Codeup</p>
<p>â€‹	ä¿®æ”¹test.pyæ–‡ä»¶åè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæš‚å­˜ä¿®æ”¹åçš„æ–‡ä»¶å¹¶è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæ·»åŠ <code>&quot;import re&quot;</code>è‡³<code>test.py</code>ä¸­ï¼Œè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“åè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼Œæ¨é€è‡³äº‘ç«¯ä»“åº“åè§‚å¯Ÿæ–‡ä»¶çŠ¶æ€ï¼ŒæŸ¥çœ‹å†å²æäº¤è®°å½•</p>
<div class="highlight-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> &quot;import random&quot; &gt; test.py  #ä¿®æ­£test.py</span><br><span class="line">git status</span><br><span class="line">git add test.py</span><br><span class="line">git status</span><br><span class="line"><span class="built_in">echo</span> &quot;import re&quot; &gt;&gt; test.py</span><br><span class="line">git status</span><br><span class="line">git commit -a -m &quot;feat(test.py)ï¼šå¼•å…¥randomï¼Œre&quot;</span><br><span class="line">git status</span><br><span class="line">git push</span><br><span class="line">git status</span><br><span class="line">git log  #git logç”¨äºæŸ¥çœ‹å†å²æäº¤è®°å½• </span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä¿®æ”¹<code>test.py</code>ï¼Œæš‚å­˜æ–‡ä»¶<code>test.py</code>ï¼Œå–æ¶ˆæš‚å­˜<code>test.py</code>ï¼Œæäº¤è‡³æœ¬åœ°ä»“åº“ï¼Œæ’¤é”€æäº¤ï¼Œå†æ¬¡æäº¤è‡³æœ¬åœ°ä»“åº“ï¼Œæ¨é€è‡³äº‘ç«¯ä»“åº“ï¼Œæœ¬åœ°å›æ»šåå†æ¬¡å¼ºè¡Œæ¨é€è‡³è¿œç¨‹ä»“åº“ï¼ŒæœŸé—´ä¸æ–­<code>git status</code>è§‚å¯Ÿæ–‡ä»¶çŠ¶æ€</p>
<div class="highlight-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> &quot;<span class="built_in">print</span>(&#x27;Hello world&#x27;)&quot; &gt;&gt; test.py</span><br><span class="line">git status</span><br><span class="line">git add test.py</span><br><span class="line">git status</span><br><span class="line">git <span class="built_in">restore</span> --staged test.py  #å°†æœ¬åœ°ä»“åº“HEADæŒ‡å‘çš„ç‰ˆæœ¬å¤åˆ¶åˆ°æš‚å­˜åŒº</span><br><span class="line">git status</span><br><span class="line">git add test.py</span><br><span class="line">git reset HEAD test.py</span><br><span class="line">git commit -m &quot;feat(test.py)ï¼šæ‰“å°Hello World&quot;</span><br><span class="line">git status</span><br><span class="line">git reset HEAD~  #HEAD~æ˜¯HEADçš„çˆ¶èŠ‚ç‚¹ï¼Œè®¾ç½®HEADæŒ‡å‘å½“å‰æäº¤çš„ä¸Šä¸€æ¬¡æäº¤</span><br><span class="line">git status</span><br><span class="line">git commit -a -m &quot;feat(test.py)ï¼šæ‰“å°Hello World&quot;</span><br><span class="line">git push origin master</span><br><span class="line">git reset HEAD~</span><br><span class="line">git push -f origin master</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>â€‹	å–æ¶ˆå¯¹<code>test.py</code>çš„è·Ÿè¸ªå¹¶æ¢å¤ï¼Œä¸æœ€è¿‘ä¸€æ¬¡ä¿®æ”¹å‰çš„<code>test.py</code>è¿›è¡Œæ¯”è¾ƒï¼Œæš‚å­˜<code>test.py</code>è‡³æš‚å­˜åŒºï¼Œåˆ é™¤<code>test.py</code>ï¼ŒæŸ¥çœ‹<code>test.py</code>çš„å†…å®¹ï¼Œä»æš‚å­˜åŒºä¸­æ¢å¤<code>test.py</code>ï¼ŒæŸ¥çœ‹test.pyå†…å®¹ï¼Œåˆ é™¤<code>test.py</code>ï¼Œå†å¼ºåˆ¶åˆ é™¤å·²æš‚å­˜çš„<code>test.py</code>ï¼Œå°è¯•æ¢å¤è¢«åˆ é™¤çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹<code>test.py</code>æ˜¯å¦è¢«æ¢å¤ï¼Œä»æš‚å­˜åŒºä¸­æ¢å¤<code>test.py</code>ï¼ŒæŸ¥çœ‹<code>test.py</code>çš„å†…å®¹</p>
<div class="highlight-container" data-rel="Cmd"><figure class="iseeu highlight cmd"><table><tr><td class="code"><pre><span class="line">Plain Text</span><br><span class="line">git rm --cached test.py  #å–æ¶ˆå¯¹test.pyçš„è·Ÿè¸ª</span><br><span class="line">git status</span><br><span class="line">git add test.py</span><br><span class="line">git diff test.py</span><br><span class="line">git status</span><br><span class="line">git add test.py</span><br><span class="line">git status</span><br><span class="line">rm test.py  #åˆ é™¤test.py</span><br><span class="line">cat test.py  #åœ¨ç»ˆç«¯ä¸­æ‰“å°test.pyçš„å†…å®¹</span><br><span class="line">git status</span><br><span class="line">git <span class="built_in">restore</span> test.py</span><br><span class="line">cat test.py</span><br><span class="line">git status</span><br><span class="line">git rm test.py</span><br><span class="line">git rm -f test.py</span><br><span class="line">git status</span><br><span class="line">git <span class="built_in">restore</span> test.py</span><br><span class="line">git <span class="built_in">restore</span> --staged test.py</span><br><span class="line">git status</span><br><span class="line">git <span class="built_in">restore</span> test.py</span><br><span class="line">cat test.py</span><br></pre></td></tr></table></figure></div>

<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/6783edb9378ba.png" alt="img"></p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/6783edb8d428c.png" alt="img"></p>
<h4 id="1-3-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"><a href="#1-3-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·" class="headerlink" title="1.3 é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"></a>1.3 <strong>é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·</strong></h4><p>â€‹	è¯¥å®éªŒæš‚æœªé‡åˆ°é—®é¢˜</p>
<h3 id="2-åŸºäºé˜¿é‡Œäº‘-ECS-ä¸-ACR-çš„å®¹å™¨é•œåƒç®¡ç†"><a href="#2-åŸºäºé˜¿é‡Œäº‘-ECS-ä¸-ACR-çš„å®¹å™¨é•œåƒç®¡ç†" class="headerlink" title="2. åŸºäºé˜¿é‡Œäº‘ ECS ä¸ ACR çš„å®¹å™¨é•œåƒç®¡ç†"></a>2. åŸºäºé˜¿é‡Œäº‘ ECS ä¸ ACR çš„å®¹å™¨é•œåƒç®¡ç†</h3><h4 id="2-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"><a href="#2-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½" class="headerlink" title="2.1 å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"></a>2.1 å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½</h4><p>â€¢     æŒæ¡ECSçš„åŸºæœ¬æ“ä½œï¼Œèƒ½è¾ƒä¸ºç†Ÿç»ƒåœ°ä½¿ç”¨Linuxå¹³å°ï¼Œå¦‚ECSè¿œç¨‹è¿æ¥ï¼ŒXftp 7ä¼ è¾“æ–‡ä»¶ç­‰</p>
<p>â€¢     æŒæ¡Dockerçš„å¸¸ç”¨å‘½ä»¤ï¼ŒåŒ…æ‹¬æ‹‰å–é•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼ŒæŸ¥çœ‹é•œåƒï¼Œåˆ é™¤é•œåƒï¼Œæš‚åœå®¹å™¨ç­‰</p>
<p>â€¢     å­¦ä¼šæ’°å†™Dockerfileæ–‡ä»¶æ¥æ„å»ºé•œåƒï¼Œå¹¶åŸºäºé˜¿é‡Œäº‘ACRå®Œæˆé•œåƒçš„pullå’Œpush</p>
<h3 id="2-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"><a href="#2-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º" class="headerlink" title="2.2 å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"></a>2.2 å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º</h3><p>â€‹	ä½¿ç”¨<code>docker pull</code>æ‹‰å–<code>nginx</code>é•œåƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>docker images</code>æŸ¥çœ‹å·²æ‹‰å–çš„é•œåƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>docker run</code>è¿è¡Œ<code>docker</code>å®¹å™¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name nginx -p 80:80 nginx</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨docker psæŸ¥çœ‹å½“å‰è¿è¡Œçš„å®¹å™¨ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker ps  </span><br></pre></td></tr></table></figure></div>

<p>â€‹	æ­¤æ—¶å¯ç”¨æœ¬åœ°æµè§ˆå™¨è®¿é—®è¯¥ECSæœåŠ¡å™¨å…¬ç½‘ï¼Œå³<code>http://&lt;ECSå…¬ç½‘IP&gt;</code>ä»¥æ­¤éªŒè¯å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/6785313586e43.jpg" alt="img"></p>
<p>â€‹	å°†NginxæœåŠ¡çš„é…ç½®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶åŠWebæœåŠ¡çš„æ ¹ç›®å½•åˆ†åˆ«å»ºç«‹æŒä¹…åŒ–æ˜ å°„ï¼Œå¯ä»¥ç†è§£ä¸ºè®©å®¹å™¨ä¸­çš„ç›®å½•ä¸å®¿ä¸»ç›®å½•è¿›è¡ŒåŒæ­¥</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /opt/docker/nginx/conf.d</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/docker/nginx/logs</span><br><span class="line"><span class="built_in">mkdir</span> -p /opt/docker/nginx/html</span><br><span class="line"><span class="comment"># -p --parentsï¼šå¦‚æœè·¯å¾„ä¸­ä»»æ„ä¸€çº§çˆ¶ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line"></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/nginx.conf /opt/docker/nginx/</span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/conf.d /opt/docker/nginx/</span><br><span class="line">docker <span class="built_in">cp</span> nginx:/usr/share/nginx/html /opt/docker/nginx/</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ç°åœ¨è¦æƒ³NginxæœåŠ¡ä½¿ç”¨æŒä¹…åŒ–å­˜å‚¨çš„æ•°æ®ï¼Œéœ€è¦å…ˆåœæ­¢å†åˆ é™¤å½“å‰è¿è¡Œçš„nginxå®¹å™¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop nginx</span><br><span class="line">docker <span class="built_in">rm</span> nginx</span><br><span class="line">docker ps -a <span class="comment">#è§‚å¯Ÿæ˜¯å¦åˆ é™¤æˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	é‡æ–°æ‰§è¡Œ<code>docker run</code>ï¼ŒåŒæ—¶é…ç½®å¥½ç›¸å…³å‚æ•°</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -v, --volume listï¼šæŒ‚åœ¨ç›®å½•ï¼Œ&lt;å®¿ä¸»ç›®å½•&gt;:&lt;å®¹å™¨ç›®å½•&gt;</span></span><br><span class="line">docker run -d --restart=always \</span><br><span class="line">            --name nginx \</span><br><span class="line">            -p 80:80 \</span><br><span class="line">            -v /opt/docker/nginx/nginx.conf:/etc/nginx/nginx.conf \</span><br><span class="line">            -v /opt/docker/nginx/html:/usr/share/nginx/html \</span><br><span class="line">            -v /opt/docker/nginx/logs:/var/log/nginx \</span><br><span class="line">            nginx</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>docker stop</code>,<code>docker start</code>è¿›è¡Œç»ƒä¹ </p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop nginx</span><br><span class="line">docker start nginx</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>curl</code>å‘½ä»¤è·å–ç½‘é¡µå†…å®¹</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">curl 127.0.0.1:80  <span class="comment">#åœ¨ECSç»ˆç«¯ä¸Šè¾“å…¥ï¼Œæ‰€ä»¥åœ°å€æ˜¯127.0.0.1</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>docker exec</code>å‘½ä»¤è¿›å…¥å®¹å™¨ã€‚è¯¥å‘½ä»¤å®šä¹‰ä¸ºåœ¨å®¹å™¨å†…éƒ¨è¿è¡Œä¸€æ¡æŒ‡å®šå‘½ä»¤ï¼Œå¯ä»¥æŒ‡å®šå‘½ä»¤ä¸ºShellç¨‹åºï¼Œå¦‚<code>/bin/bash</code>ï¼Œé…åˆå‚æ•°<code>-it</code>ï¼Œå¯ä»¥å®ç°è¿›å…¥å®¹å™¨è¿›è¡Œå‘½ä»¤è¡Œäº¤äº’å¼æ“ä½œ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it nginx /bin/bash</span><br><span class="line"><span class="comment"># -i --interactiveï¼Œä¿æŒäº¤äº’æ¨¡å¼</span></span><br><span class="line"><span class="comment"># -t --ttyï¼Œåˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆæ¨¡æ‹Ÿç»ˆç«¯ï¼‰</span></span><br><span class="line"><span class="comment"># nginxï¼Œå®¹å™¨åç§°</span></span><br><span class="line"><span class="comment"># /bin/bashï¼Œå¾…æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿›å…¥bash shell</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	è¿›å…¥å®¹å™¨åï¼Œåœ¨nginxæœåŠ¡çš„WebæœåŠ¡çš„æ ¹ç›®å½•ä¸­åˆ›å»º<code>test.html</code>æ–‡ä»¶ã€‚ç”±äºå®¹å™¨æœ¬èº«ä¸æ”¯æŒ<code>vim</code>ï¼Œå› æ­¤ç”¨<code>echo</code>å‘½ä»¤è¿›è¡Œç¼–å†™ï¼Œæœ€åç”¨<code>exit</code>å‘½ä»¤é€€å‡ºå®¹å™¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/share/nginx/html</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;&lt;h1&gt;Hello,world&lt;/h1&gt;&quot;</span> &gt; test.html</span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="built_in">ls</span> /opt/docker/nginx/html  <span class="comment">#æŸ¥çœ‹æ˜¯å¦æˆåŠŸæŒä¹…åŒ–å‚¨å­˜åˆ°å®¿ä¸»ç³»ç»Ÿ</span></span><br><span class="line">curl 127.0.0.1:80/test.html  </span><br></pre></td></tr></table></figure></div>

<p>â€‹	é™¤äº†curlå‘½ä»¤ï¼Œä¸€æ ·å¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®<code>http://&lt;ECSå…¬ç½‘åœ°å€&gt;/test.html</code>æ¥éªŒè¯</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/6785313522372.jpg" alt="img"></p>
<p>â€‹	ä½¿ç”¨<code>docker logs</code>æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼Œå¯ä»¥é€šè¿‡æ­¤æ–¹æ³•æ¥åˆ¤æ–­å®¹å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker logs nginx</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>dcoker rmi</code>åˆ é™¤ä¸å¿…è¦çš„å®¹å™¨é•œåƒæ—¶ï¼Œè¦å…ˆåˆ é™¤ä½¿ç”¨è¯¥é•œåƒçš„å®¹å™¨ï¼Œæƒ³åˆ é™¤å®¹å™¨åˆå¾—å…ˆåœæ­¢å®¹å™¨å®ä¾‹è¿è¡Œã€‚æ•…åˆ é™¤é•œåƒçš„é¡ºåºå¦‚ä¸‹ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop nginx</span><br><span class="line">docker <span class="built_in">rm</span> nginx</span><br><span class="line">docker rmi nginx</span><br><span class="line">docker images  <span class="comment">#åˆ¤æ–­é•œåƒæ˜¯å¦åˆ é™¤æˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	æ„å»ºDockerå®¹å™¨é•œåƒå¯ä»¥é€šè¿‡ç¼–å†™å¹¶è¿è¡ŒDockerfileæ–‡ä»¶æ¥å®ç°ï¼Œä¸€èˆ¬è€Œè¨€ï¼ŒDockerfileçš„æ–‡ä»¶æŒ‡ä»¤é€»è¾‘åº”æŒ‰ç…§ä»¥ä¸‹æ¨¡å¼å»ºç«‹ï¼šé€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒã€å®‰è£…åŸºç¡€å·¥å…·ä¸ä¾èµ–ã€æ·»åŠ å…¶ä»–åº”ç”¨ã€æ¸…ç†ç¼“å­˜ã€å£°æ˜é•œåƒç«¯å£æš´éœ²æƒ…å†µã€è®¾ç½®é»˜è®¤å¯åŠ¨å‘½ä»¤</p>
<div class="highlight-container" data-rel="Dockerfile"><figure class="iseeu highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Ubuntuä½œä¸ºåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">22.04</span></span><br><span class="line"><span class="comment"># ç»´æŠ¤è€…ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;&lt;yud0u@qq.com&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…nginxåŠPython</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get install -y \</span></span><br><span class="line"><span class="language-bash">    nginx \</span></span><br><span class="line"><span class="language-bash">    python3 \</span></span><br><span class="line"><span class="language-bash">    python3-distutils</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†aptè½¯ä»¶åŒ…ç¼“å­˜    </span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">rm</span> -rf /var/lib/apt/lists/*</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å£°æ˜æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å¯åŠ¨å‘½ä»¤</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash">[<span class="string">&quot;nginx&quot;</span>, <span class="string">&quot;-g&quot;</span>, <span class="string">&quot;daemon off;&quot;</span>]</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨docker buildå‘½ä»¤åˆ›å»ºå®¹å™¨é•œåƒï¼ˆæœ€å¥½åœ¨DockerfileåŒä¸€ç›®å½•ä¸‹è¿è¡Œï¼‰</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -t, tagï¼šé•œåƒåç§°ï¼ˆREPOSITORYï¼šTAGï¼‰</span></span><br><span class="line"><span class="comment"># npuï¼šNginx Python Ubuntuï¼Œè‡ªå®šä¹‰é•œåƒåç§°</span></span><br><span class="line"><span class="comment"># .ï¼šPATHï¼Œæ‰§è¡Œå‘½ä»¤çš„ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œæ„é€ è¿‡ç¨‹ä¸­å¯ä»¥å¼•ç”¨è¯¥ä¸Šä¸‹æ–‡ä¸­çš„ä»»ä½•æ–‡ä»¶</span></span><br><span class="line">docker build -t npu .</span><br><span class="line">docker images  <span class="comment">#æŸ¥çœ‹é•œåƒæ˜¯å¦åˆ›å»ºæˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	è¿è¡Œè¯¥é•œåƒï¼Œæ£€æµ‹NginxæœåŠ¡ï¼›è¿›å…¥å®¹å™¨åæ£€æµ‹Pythonè§£æèƒ½åŠ›</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name npu -p 80:80 npu</span><br><span class="line">curl 127.0.0.1</span><br><span class="line">docker <span class="built_in">exec</span> -it npu /bin/bash</span><br><span class="line">(nginx)python3</span><br><span class="line"><span class="built_in">exit</span>()</span><br><span class="line">(nginx)<span class="built_in">exit</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	å°†åˆ›å»ºçš„npué•œåƒæ¨é€è‡³ACRï¼Œåœ¨æ­¤ä¹‹å‰å…ˆåœ¨ACRæ§åˆ¶å°åˆ›å»ºé•œåƒä»“åº“<code>npu</code></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker login --username=é±¼è±†YuDou crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com</span><br><span class="line">docker tag [ImageId] crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/npu:[é•œåƒç‰ˆæœ¬å·]</span><br><span class="line">docker push crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/npu:[é•œåƒç‰ˆæœ¬å·]</span><br></pre></td></tr></table></figure></div>

<p>â€‹	æ¨é€æˆåŠŸåå¯ä»¥åœ¨è¯¥é•œåƒä»“åº“ä¸­æŸ¥çœ‹æäº¤è®°å½•</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/678531347f773.jpg" alt="img"></p>
<p>â€‹	ä»ACRä¸­æ‹‰å–å®¹å™¨é•œåƒè¿›è¡Œæµ‹è¯•ï¼Œéœ€è¦å…ˆåˆ é™¤æœ¬åœ°å®¹å™¨åŠå…¶é•œåƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker stop npu</span><br><span class="line">docker <span class="built_in">rm</span> npu</span><br><span class="line">docker rmi npu</span><br><span class="line">docker rmi crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/npu</span><br><span class="line">docker images  <span class="comment">#æŸ¥çœ‹é•œåƒæ˜¯å¦åˆ é™¤æˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	åˆ é™¤åå†è¿›è¡Œæ‹‰å–æ“ä½œï¼Œå¹¶è¿›è¡Œæµ‹è¯•</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/npu:latest</span><br><span class="line">docker run -d --name npu -p 80:80 crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/npu:latest</span><br><span class="line">curl 127.0.0.1  <span class="comment">#æŸ¥çœ‹å®¹å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œ</span></span><br></pre></td></tr></table></figure></div>

<h4 id="2-4-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"><a href="#2-4-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·" class="headerlink" title="2.4 é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"></a>2.4 é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·</h4><p>â€‹	<strong>ï¼ˆâœ…ï¼‰æœ¬å®éªŒé‡åˆ°çš„æœ€å¤§é—®é¢˜ä¸ºï¼šdockeræ‹‰å–é•œåƒè¶…æ—¶ã€‚</strong></p>
<p>â€‹	ä¸ºè§£å†³æ­¤é—®é¢˜ï¼Œå…±å°è¯•äº†ä¸‰ç§æ–¹æ³•ï¼š</p>
<ol>
<li>ï¼ˆâŒï¼‰åœ¨<code>/etc/docker/daemon.json</code>ä¸‹é…ç½®dockeré•œåƒæºï¼ŒåŒ…æ‹¬å„ç§åä¸ºäº‘ç­‰é•œåƒæºï¼Œé…ç½®æ–¹æ³•å‚è€ƒä»¥ä¸‹é“¾æ¥<a class="link" href="https://blog.csdn.net/weixin_50160384/article/details/139861337%EF%BC%8C%E4%BD%86%E5%9D%87%E4%BB%A5%E5%A4%B1%E8%B4%A5%E5%91%8A%E7%BB%88">https://blog.csdn.net/weixin_50160384/article/details/139861337ï¼Œä½†å‡ä»¥å¤±è´¥å‘Šç»ˆ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>ï¼ˆâŒï¼‰åœ¨<code>/etc/docker/daemon.json</code>ä¸‹é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ï¼Œåœ¨ACRä¸­è·å–åŠ é€Ÿå™¨åœ°å€ï¼Œå¹¶æŒ‰å¦‚ä¸‹æ–¹å¼é…ç½®ï¼Œä¸æ·»åŠ å…¶ä»–é•œåƒæºï¼Œä½†æ•ˆæœå¹¶ä¸ç¨³å®šï¼Œæœ‰æ—¶å¯ä»¥æ‹‰å–æˆåŠŸæœ‰æ—¶åˆä¸è¡Œ</li>
</ol>
<div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">&quot;https://***.mirror.aliyuncs.com&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div>

<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/13/67853134866b3.png" alt="image-20250113233043464"></p>
<ol start="3">
<li>ï¼ˆâœ…ï¼‰ä¸ºECSæœåŠ¡å™¨é…ç½®ä»£ç†ï¼Œåœ¨ç½‘ä¸Šé˜…è¯»äº†è®¸å¤šæ–‡ç« åï¼Œæˆ‘å°†å…·ä½“æ–¹æ³•æ€»ç»“åœ¨æˆ‘çš„ä¸ªäººåšå®¢ä¸Šï¼š<a class="link" href="https://sweetyudou.github.io/2024/11/14/Docker/%E3%80%82%E7%AE%80%E8%80%8C%E8%A8%80%E4%B9%8B%EF%BC%8C%E6%88%91%E4%BD%BF%E7%94%A8clash%E6%88%90%E5%8A%9F%E4%B8%BAECS%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%88%90%E5%8A%9F%E5%81%9A%E5%88%B0%E4%BA%86%E7%A8%B3%E5%AE%9A%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%EF%BC%8C%E6%98%AF%E4%B8%80%E5%8A%B3%E6%B0%B8%E9%80%B8%E7%9A%84%E5%A5%BD%E6%96%B9%E6%B3%95">https://sweetyudou.github.io/2024/11/14/Docker/ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä½¿ç”¨clashæˆåŠŸä¸ºECSæœåŠ¡å™¨é…ç½®ä»£ç†ï¼Œå¹¶ä¸”æˆåŠŸåšåˆ°äº†ç¨³å®šæ‹‰å–é•œåƒï¼Œæ˜¯ä¸€åŠ³æ°¸é€¸çš„å¥½æ–¹æ³• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ol>
<h3 id="3-åŸºäºé˜¿é‡Œäº‘ECSä¸ACRçš„Pythonå¾®æœåŠ¡é•œåƒæ„å»ºã€éƒ¨ç½²ä¸æ¥å£è®¿é—®"><a href="#3-åŸºäºé˜¿é‡Œäº‘ECSä¸ACRçš„Pythonå¾®æœåŠ¡é•œåƒæ„å»ºã€éƒ¨ç½²ä¸æ¥å£è®¿é—®" class="headerlink" title="3. åŸºäºé˜¿é‡Œäº‘ECSä¸ACRçš„Pythonå¾®æœåŠ¡é•œåƒæ„å»ºã€éƒ¨ç½²ä¸æ¥å£è®¿é—®"></a>3. åŸºäºé˜¿é‡Œäº‘ECSä¸ACRçš„Pythonå¾®æœåŠ¡é•œåƒæ„å»ºã€éƒ¨ç½²ä¸æ¥å£è®¿é—®</h3><h4 id="3-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"><a href="#3-1-å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½" class="headerlink" title="3.1 å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½"></a>3.1 å®éªŒç›®æ ‡ä¸ç›¸å…³çŸ¥è¯†æŠ€èƒ½</h4><p>â€¢     æŒæ¡Dockerfileæ„å»ºå®¹å™¨é•œåƒ</p>
<p>â€¢     ç†è§£HTTPåè®®åŸºæœ¬æ¦‚å¿µï¼ŒæŒæ¡HTTPè°ƒè¯•å·¥å…·çš„ä½¿ç”¨</p>
<p>â€¢     ç†è§£ç½‘ç»œæœåŠ¡APIçš„æ¦‚å¿µï¼Œå­¦ä¼šHTTP RESTful APIçš„ä½¿ç”¨</p>
<p>â€¢     ç†è§£å¹¶æŒæ¡Python Requests</p>
<h4 id="3-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"><a href="#3-2-å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º" class="headerlink" title="3.2 å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º"></a>3.2 å®éªŒæ­¥éª¤ä¸å¯¹åº”æˆæœå±•ç¤º</h4><p><a class="link" href="https://github.com/SweetYuDou/System-Middleware-and-Cloud-Virtualization/tree/main/exp_pyms_api_demo">System-Middleware-and-Cloud-Virtualization&#x2F;exp_pyms_api_demo at main Â· SweetYuDou&#x2F;System-Middleware-and-Cloud-Virtualization <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>â€‹	åœ¨ACRä¸­åˆ›å»ºé•œåƒä»“åº“ï¼Œä»¥å¤‡åç»­çš„é•œåƒä¸Šä¼ </p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/14/67866bd496fbd.png" alt="img"></p>
<p>â€‹	å¯åŠ¨æœ¬å®éªŒæä¾›çš„å¾®æœåŠ¡èŒƒä¾‹ï¼Œä½“éªŒHTTP RESTful APIæ¥å£ï¼Œæœ¬æœåŠ¡èŒƒä¾‹åœ¨8000ç«¯å£ç›‘å¬ï¼Œå¯åŠ¨å‘½ä»¤ä¸ºï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">./exp_pyms_api_demo ./device.csv</span><br><span class="line"><span class="comment"># ./exp_pyms_api_demo &lt;csv_file&gt;,csv_fileä¸ºå­˜å‚¨è®¾å¤‡ä¿¡æ¯çš„CSVæ–‡ä»¶è·¯å¾„ã€‚è‹¥è¯¥è·¯å¾„ä¸­å­˜åœ¨CSVæ–‡ä»¶åˆ™è¯»å–ä¿¡æ¯ï¼Œå¦åˆ™è‡ªåŠ¨åˆ›å»º5æ¡è®¾å¤‡ä¿¡æ¯å¹¶ç”ŸæˆCSVæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	æ­¤æ—¶è®¿é—®<code>http://&lt;IP&gt;:8000/docs</code>å°†ä¼šçœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼š</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/14/67866aeab506c.png" alt="image-20250114213605484"></p>
<p>â€‹	æ­¤æ—¶å½“å‰ç›®å½•åˆ›å»º<code>device.csv</code>æ–‡ä»¶ï¼š</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> -F  <span class="comment">#æŸ¥çœ‹æ˜¯å¦åˆ›å»ºdevice.csvæ–‡ä»¶</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	<code>Ctrl + C</code>é€€å‡ºç¨‹åºåï¼Œåˆ›å»ºDockerfileæ–‡ä»¶</p>
<div class="highlight-container" data-rel="Dockerfile"><figure class="iseeu highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Ubuntu 22.04 ä½œä¸ºåŸºç¡€é•œåƒ</span></span><br><span class="line"><span class="keyword">FROM</span> ubuntu:<span class="number">22.04</span></span><br><span class="line"><span class="keyword">LABEL</span><span class="language-bash"> maintainer=<span class="string">&quot;&lt;yud0u@qq.com&gt;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå·¥ä½œç›®å½•ä¸º /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="comment">#å°†ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸­çš„ exp_pyms_api_demo å¤åˆ¶åˆ°é•œåƒä¸­</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> exp_pyms_api_demo exp_pyms_api_demo</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²æœåŠ¡ç«¯å£ 8000</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå®¹å™¨çš„å¯åŠ¨å‘½ä»¤ï¼Œdevcie.csv å°†å­˜å‚¨åœ¨å®¹å™¨çš„/var/lib/exp_pyms_data/ ç›®å½•ä¸‹ï¼Œå› æ­¤è¯¥ç›®å½•åº”æŒä¹…åŒ–</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;/app/exp_pyms_api_demo&quot;</span>, <span class="string">&quot;/var/lib/exp_pyms_data/device.csv&quot;</span>]</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨<code>docker build</code>å‘½ä»¤æ„å»ºå®¹å™¨é•œåƒï¼Œé•œåƒåä¸º<code>exp_pyms_api_demo:1.0</code></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker build -t exp_pyms_api_demo:1.0 .</span><br><span class="line">docker images  <span class="comment">#æŸ¥çœ‹é•œåƒæ˜¯å¦æ„å»ºæˆåŠŸ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	å°†é•œåƒä¸Šä¼ è‡³ACRé•œåƒä»“åº“</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker login --username=é±¼è±†YuDou crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com</span><br><span class="line">docker tag [ImageId] crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/exp_pyms_api_demo:[é•œåƒç‰ˆæœ¬å·]</span><br><span class="line">docker push crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/exp_pyms_api_demo:[é•œåƒç‰ˆæœ¬å·]</span><br></pre></td></tr></table></figure></div>

<p>â€‹	æ¨é€æˆåŠŸåï¼Œå¯åœ¨é•œåƒä»“åº“exp_pyms_api_demoçš„é¡µé¢ä¸­æŸ¥çœ‹åˆšåˆšæ¨é€çš„é•œåƒ</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/14/67866aedac18f.gif" alt="img"></p>
<p>â€‹	è¿œç¨‹ç™»å½•ECSå¹¶æ‹‰å–é•œåƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/exp_pyms_api_demo:[é•œåƒç‰ˆæœ¬å·]</span><br></pre></td></tr></table></figure></div>

<p>â€‹	åœ¨ECSå·¥ä½œç›®å½•åˆ›å»ºæŒä¹…åŒ–ç›®å½•exp_pyms_dataï¼Œç”¨äºå­˜å‚¨å®¹å™¨å†…æœåŠ¡ç”Ÿæˆçš„ä¸šåŠ¡æ•°æ®æ–‡æ¡£ï¼Œå³è®¾å¤‡ä¿¡æ¯æ•°æ®ï¼Œéšåè¿è¡Œè¯¥é•œåƒ</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> exp_pyms_data</span><br><span class="line">docker run -d --restart=always\</span><br><span class="line">            --name exp_pyms_api_demo \</span><br><span class="line">            -v ./exp_pyms_data/:/var/lib/exp_pyms_data/ \</span><br><span class="line">            -p 8000:8000 \</span><br><span class="line">            crpi-n4sctgr4gzd05xye.cn-hangzhou.personal.cr.aliyuncs.com/exp_yd/exp_pyms_api_demo:1.0</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨docker logsæŸ¥çœ‹æœåŠ¡æ˜¯å¦æˆåŠŸå¯åŠ¨</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">docker logs exp_pyms_api_demo  </span><br><span class="line"><span class="built_in">ls</span> exp_pyms_data/  <span class="comment">#è‹¥æœ‰device.csvæ–‡ä»¶ï¼Œåˆ™æˆåŠŸåˆ›å»º5æ¡è®¾å¤‡ä¿¡æ¯ä¸”æœåŠ¡æˆåŠŸè¿è¡Œ</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½¿ç”¨OpenAPIæŸ¥çœ‹å¾®æœåŠ¡æ¥å£ï¼Œåœ¨æµè§ˆå™¨ä¸­é€šè¿‡<code>&lt;ecs_ip&gt;:8000/docs</code>æ¥è®¿é—®<code>Redocly</code>æ–‡æ¡£åœ°å€</p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/14/67866ae867e7a.jpg" alt="img"></p>
<p>â€‹	åŒç†ï¼Œæœ¬å®éªŒSwaggeræ–‡æ¡£åœ°å€ä¸º<code>&lt;ecs_ip&gt;:8000/docs/swagger</code></p>
<p><img lazyload src="/images/loading.svg" data-src="https://www.helloimg.com/i/2025/01/14/67866ae9278db.jpg" alt="img"></p>
<p>â€‹	é…ç½®Pythonè™šæ‹Ÿç¯å¢ƒ<code>exp_venv</code></p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">python3 -m venv exp_venv</span><br><span class="line"><span class="built_in">source</span> exp_venv/bin/activate</span><br><span class="line">pip install requests</span><br></pre></td></tr></table></figure></div>

<p>â€‹	è¿›å…¥Pythonäº¤äº’å¼ç•Œé¢è¿›è¡Œåˆæ­¥éªŒè¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">python3</span><br><span class="line">import requests  <span class="comment">#éªŒè¯requestsåº“æ˜¯å¦å¯å¯¼å…¥</span></span><br><span class="line">requests.__version__  <span class="comment">#æŸ¥çœ‹requestsç‰ˆæœ¬</span></span><br><span class="line"><span class="built_in">exit</span>()</span><br></pre></td></tr></table></figure></div>

<p>â€‹	æŸ¥çœ‹å…ˆå‰ç”Ÿæˆçš„device.csvæ–‡ä»¶å†…å®¹ï¼Œé€šè¿‡Requestsåº“è®¿é—®æ¥å£æ¥è·å–è®¾å¤‡ä¿¡æ¯</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> exp_pyms_data/device.csv</span><br><span class="line">python3</span><br><span class="line">import requests</span><br><span class="line">resp = requests.get(<span class="string">&quot;http://&lt;ecs_ip&gt;:8000/v1/devices&quot;</span>,json=&#123;<span class="string">&quot;id&quot;</span>:<span class="string">&quot;6713124465&quot;</span>&#125;)  <span class="comment">#é€šè¿‡idæ¥æ£€ç´¢è®¾å¤‡å¹¶è·å–ä¿¡æ¯ï¼Œè¯¥idä¸ºéšæœºç”Ÿæˆçš„ä¾‹å­</span></span><br><span class="line">resp</span><br><span class="line">resp.status_code  <span class="comment">#æŸ¥çœ‹çŠ¶æ€ç åˆ¤æ–­è®¿é—®æ˜¯å¦æˆåŠŸï¼Œè®¿é—®æˆåŠŸçš„HTTPçŠ¶æ€ç ä¸º200</span></span><br><span class="line">resp.text</span><br><span class="line">resp.json()</span><br></pre></td></tr></table></figure></div>

<p>â€‹	åŒæ—¶è¿˜æ”¯æŒç”¨â€œåºå·SN-ç±»å‹â€æ¥æ£€ç´¢è®¾å¤‡</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">resp = requests.get(<span class="string">&quot;http://&lt;ecs_ip&gt;:8000/v1/devices&quot;</span>, json=&#123;<span class="string">&quot;sn&quot;</span>: <span class="string">&quot;XRmiI&quot;</span>, <span class="string">&quot;model&quot;</span>: <span class="string">&quot;Raspberry Pi 4&quot;</span>&#125;)  <span class="comment">#è¯¥ç»„åˆä¿¡æ¯ä¸ºéšæœºç”Ÿæˆçš„ä¾‹å­</span></span><br><span class="line">resp.status_code</span><br><span class="line">resp.json()</span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½“éªŒåˆ é™¤æ¥å£</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">resp = requests.delete(<span class="string">&quot;http://&lt;ecs_ip&gt;:8000/v1/devices&quot;</span>, json=&#123;<span class="string">&quot;ids&quot;</span>:[<span class="string">&quot;3116641919&quot;</span>, <span class="string">&quot;94791787847&quot;</span>, <span class="string">&quot;1234567890&quot;</span>]&#125;)</span><br><span class="line">resp.json()</span><br><span class="line"><span class="built_in">cat</span> exp_pyms_data/device.csv  <span class="comment">#æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯æ˜¯å¦è¢«åˆ é™¤</span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½“éªŒæ·»åŠ è®¾å¤‡æ¥å£</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">resp = requests.post(</span><br><span class="line">    <span class="string">&quot;htpp://&lt;ecs_ip&gt;:8000/v1/devices&quot;</span>,</span><br><span class="line">    json=&#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;test-name&quot;</span>,</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;controller&quot;</span>,</span><br><span class="line">        <span class="string">&quot;hardware&quot;</span>:&#123;</span><br><span class="line">            <span class="string">&quot;model&quot;</span>: <span class="string">&quot;test-model&quot;</span>,</span><br><span class="line">            <span class="string">&quot;sn&quot;</span>: <span class="string">&quot;test-sn&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;software&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.1&quot;</span>,</span><br><span class="line">                <span class="string">&quot;last_update&quot;</span>: <span class="string">&quot;2023-08-06 20:00:00&quot;</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="string">&quot;nic&quot;</span>: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;wifi&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;mac&quot;</span>: <span class="string">&quot;12:34:56:78:9a:bc&quot;</span>,</span><br><span class="line">                        <span class="string">&quot;ipv4&quot;</span>: <span class="string">&quot;192.168.1.2&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                <span class="string">&quot;status&quot;</span>: <span class="string">&quot;online&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">resp.json()</span><br><span class="line"><span class="built_in">cat</span> exp_pyms_data/device.csv  <span class="comment">#æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯æ˜¯å¦æˆåŠŸæ·»åŠ </span></span><br></pre></td></tr></table></figure></div>

<p>â€‹	ä½“éªŒæ›´æ–°è®¾å¤‡ä¿¡æ¯æ¥å£</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="code"><pre><span class="line">resp = requests.put(</span><br><span class="line">    <span class="string">&quot;http://127.0.0.1:8000/v1/devices&quot;</span>,</span><br><span class="line">    json=&#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;0922282528&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;new-name&quot;</span>,</span><br><span class="line">        <span class="string">&quot;software&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.5&quot;</span>,</span><br><span class="line">            <span class="string">&quot;last_update&quot;</span>: <span class="string">&quot;2023-08-06 10:00:00&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;status&quot;</span>: <span class="string">&quot;offline&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">resp.json()</span><br><span class="line"><span class="built_in">cat</span> exp_pyms_data/device.csv  <span class="comment">#æŸ¥çœ‹æ˜¯å¦æˆåŠŸæ›´æ–°è®¾å¤‡ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></div>

<h4 id="3-3-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"><a href="#3-3-é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·" class="headerlink" title="3.3 é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·"></a>3.3 é‡åˆ°çš„ä¸»è¦é—®é¢˜ã€è§£å†³æ€è·¯å’Œæ”¶è·</h4><p>â€‹	è¯¥å®éªŒæš‚æœªé‡åˆ°é—®é¢˜</p>
]]></content>
      <categories>
        <category>software-engineering</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Maven</tag>
        <tag>Spring Boot</tag>
        <tag>é˜¿é‡Œäº‘</tag>
        <tag>Serverless</tag>
        <tag>Nacos</tag>
        <tag>Git</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
</search>
